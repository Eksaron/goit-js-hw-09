{"version":3,"file":"2-form-4123e5a5.js","sources":["../../src/js/2-form.js"],"sourcesContent":["import '../css/2-forms.css';\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  const localStorageKey = 'feedback-form-state';\n  const formData = {\n    email: '',\n    message: '',\n    clear() {\n      this.email = '';\n      this.message = '';\n    },\n  };\n  console.log('init.formData', formData);\n\n  const form = document.querySelector('.feedback-form');\n  console.log('init.form', form);\n\n  form.addEventListener('input', handleInput);\n  function handleInput(event) {\n    // console.log(`input:${event.target.name}:[${event.target.value}]`);\n    const key = event.target.name;\n    const value = event.target.value.trim();\n    formData[key] = value;\n\n    // const inputName = event.target.name;\n    // if (inputName === 'email') {\n    //   formData.email = event.target.value.trim();\n    // } else if (inputName === 'message') {\n    //   formData.message = event.target.value.trim();\n    // }\n    //console.log('handleInput:formData', formData);\n    //    saveFormDataToLocalStorage(formData);\n    localStorage.setItem(localStorageKey, JSON.stringify(formData));\n  }\n\n  const savedFormData = getFormDataFromLocalStorage();\n  console.log('savedFormData:', savedFormData);\n  if (savedFormData) {\n    form.email.value = savedFormData.email;\n    form.message.value = savedFormData.message;\n  }\n\n  //   function saveFormDataToLocalStorage(formData) {\n  //       localStorage.setItem(localStorageKey, JSON.stringify(formData));\n  // }\n\n  function getFormDataFromLocalStorage() {\n    //return JSON.parse(localStorage.getItem(localStorageKey));\n    const savedData = localStorage.getItem(localStorageKey);\n    if (savedData) {\n      return JSON.parse(savedData);\n    }\n    return null;\n  }\n  /*\nfunction getFormDataFromLocalStorage() {\n  const savedData = localStorage.getItem(localStorageKey);\n    //return JSON.parse(localStorage.getItem(localStorageKey));\n    console.log('savedData', savedData);\n    console.log('savedData.Type', typeof savedData);\n    const json = JSON.parse(savedData);\n    console.log('json', json);\n    console.log('json.Type', typeof json);\n    return json;\n  }\n  return null;\n}\n*/\n  function validateForm(formData) {\n    for (const key in formData) {\n      if (formData[key] === '') {\n        return false;\n      }\n    }\n    return true;\n  }\n\n  form.addEventListener('submit', handleSubmit);\n  function handleSubmit(event) {\n    event.preventDefault();\n    const form = event.target;\n\n    if (formData.email === '' || formData.message === '') {\n      return alert('Fill please all fields');\n    }\n    console.log(formData);\n    localStorage.removeItem(localStorageKey);\n    formData.clear();\n    form.reset();\n  }\n});\n"],"names":["localStorageKey","formData","form","handleInput","event","key","value","savedFormData","getFormDataFromLocalStorage","savedData","handleSubmit"],"mappings":"AAEA,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,MAAMA,EAAkB,sBAClBC,EAAW,CACf,MAAO,GACP,QAAS,GACT,OAAQ,CACN,KAAK,MAAQ,GACb,KAAK,QAAU,EAChB,CACL,EACE,QAAQ,IAAI,gBAAiBA,CAAQ,EAErC,MAAMC,EAAO,SAAS,cAAc,gBAAgB,EACpD,QAAQ,IAAI,YAAaA,CAAI,EAE7BA,EAAK,iBAAiB,QAASC,CAAW,EAC1C,SAASA,EAAYC,EAAO,CAE1B,MAAMC,EAAMD,EAAM,OAAO,KACnBE,EAAQF,EAAM,OAAO,MAAM,KAAI,EACrCH,EAASI,CAAG,EAAIC,EAUhB,aAAa,QAAQN,EAAiB,KAAK,UAAUC,CAAQ,CAAC,CAC/D,CAED,MAAMM,EAAgBC,IACtB,QAAQ,IAAI,iBAAkBD,CAAa,EACvCA,IACFL,EAAK,MAAM,MAAQK,EAAc,MACjCL,EAAK,QAAQ,MAAQK,EAAc,SAOrC,SAASC,GAA8B,CAErC,MAAMC,EAAY,aAAa,QAAQT,CAAe,EACtD,OAAIS,EACK,KAAK,MAAMA,CAAS,EAEtB,IACR,CAwBDP,EAAK,iBAAiB,SAAUQ,CAAY,EAC5C,SAASA,EAAaN,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMF,EAAOE,EAAM,OAEnB,GAAIH,EAAS,QAAU,IAAMA,EAAS,UAAY,GAChD,OAAO,MAAM,wBAAwB,EAEvC,QAAQ,IAAIA,CAAQ,EACpB,aAAa,WAAWD,CAAe,EACvCC,EAAS,MAAK,EACdC,EAAK,MAAK,CACX,CACH,CAAC"}